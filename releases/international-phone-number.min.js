/*! international-phone-number 2015-12-21 */
(function(){"use strict";angular.module("internationalPhoneNumber",[]).constant("ipnConfig",{allowExtensions:!1,autoFormat:!0,autoHideDialCode:!0,autoPlaceholder:!0,customPlaceholder:null,defaultCountry:"",geoIpLookup:null,nationalMode:!0,numberType:"MOBILE",onlyCountries:void 0,preferredCountries:["us","gb"],skipUtilScriptDownload:!1,utilsScript:""}).directive("internationalPhoneNumber",["$timeout","ipnConfig",function(n,t){return{restrict:"A",require:"^ngModel",scope:{ngModel:"=",country:"="},link:function(e,r,o,u){var l,i,a,s;return u&&""!==r.val()&&n(function(){return r.intlTelInput("setNumber",r.val()),u.$setViewValue(r.val())},0),a=function(){return u.$setViewValue(r.val())},l=function(n){return n instanceof Array?n:n.toString().replace(/[ ]/g,"").split(",")},i=angular.copy(t),angular.forEach(i,function(n,t){var e;if(o.hasOwnProperty(t)&&angular.isDefined(o[t]))return e=o[t],"preferredCountries"===t?i.preferredCountries=l(e):"onlyCountries"===t?i.onlyCountries=l(e):"boolean"==typeof n?i[t]="true"===e:i[t]=e}),s=e.$watch("ngModel",function(n){return e.$$postDigest(function(){return null!==n&&void 0!==n&&n.length>0&&("+"!==n[0]&&(n="+"+n),u.$modelValue=n),r.intlTelInput(i),i.skipUtilScriptDownload||void 0!==o.skipUtilScriptDownload||i.utilsScript||r.intlTelInput("loadUtils","/bower_components/intl-tel-input/lib/libphonenumber/build/utils.js"),s()})}),e.$watch("country",function(n){return null!==n&&void 0!==n&&""!==n?r.intlTelInput("selectCountry",n):void 0}),u.$formatters.push(function(n){return n?(r.intlTelInput("setNumber",n),r.val()):n}),u.$parsers.push(function(n){return n?(obj=r.intlTelInput("getSelectedCountryData"),obj.value=n.replace(/[^\d]/g,""),obj):n}),u.$validators.internationalPhoneNumber=function(n){var t;return t=r.intlTelInput("getSelectedCountryData"),!n||t&&t.dialCode===n?!0:r.intlTelInput("isValidNumber")},r.on("blur keyup change",function(n){return e.$apply(a)}),r.on("$destroy",function(){return r.intlTelInput("destroy"),r.off("blur keyup change")})}}}])}).call(this);
